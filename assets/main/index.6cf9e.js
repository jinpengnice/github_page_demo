window.__require=function t(e,o,n){function i(a,r){if(!o[a]){if(!e[a]){var s=a.split("/");if(s=s[s.length-1],!e[s]){var l="function"==typeof __require&&__require;if(!r&&l)return l(s,!0);if(c)return c(s,!0);throw new Error("Cannot find module '"+a+"'")}a=s}var u=o[a]={exports:{}};e[a][0].call(u.exports,function(t){return i(e[a][1][t]||t)},u,u.exports,t,e,o,n)}return o[a].exports}for(var c="function"==typeof __require&&__require,a=0;a<n.length;a++)i(n[a]);return i}({AndroidSdk:[function(t,e,o){"use strict";cc._RF.push(e,"711eftNjCBHpLusjQwlsGk/","AndroidSdk");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var c=t("./BaseSdk"),a=t("./PlatfromEnum"),r=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._isRecorder=!1,e._recorder=null,e._recorderShareFunc=null,e._videoPath="",e._videoId="3n6amdjc0bl4492kkm",e._videoLoaded=!1,e._videoOptions=null,e._screenSpace=12e3,e._shopEnable=!1,e._recorderTimer=null,e._recorderTimerEnable=!1,e._shareOptions=null,e.gameName=null,e.lastAdTime=0,e}return i(e,t),e.prototype.init=function(){var t=this;this._recorderTimer=setInterval(function(){t._recorderTimerEnable&&t.getIsScreenRecordVideo()&&t._recorderShareFunc&&t._recorderShareFunc()}),this.lastAdTime=(new Date).getTime()},e.prototype.isOpenShare=function(){return!1},e.prototype.login=function(t){if(this._loginOptions=t,1==t.type)this.loginWithDouyin();else if(2==t.type){this.getAnonymousCode();a.default.ANDROID,t.nickName}},e.prototype.doLogin=function(t,e){var o=this;this.sendHttpRequest(t,e,function(t){if(console.log("\u8bf7\u6c42\u6210\u529f",t),t.ok)if(0==t.error){var e=t.data;0==e.user.status?(console.log("\u767b\u5f55\u5b8c\u6210\uff0c\u51c6\u5907\u56de\u8c03"),o._loginOptions.success(e)):(console.log("\u7528\u6237\u72b6\u6001\u5f02\u5e38"),o._loginOptions.fail("\u4f60\u56e0\u8fdd\u89c4\u64cd\u4f5c,\u5e10\u53f7\u5df2\u88ab\u7cfb\u7edf\u51bb\u7ed3"))}else o._loginOptions.fail(t.error)},function(t){console.log("request\u8c03\u7528\u5931\u8d25",t),o._loginOptions.fail("\u7f51\u7edc\u7e41\u5fd9,\u8bf7\u7a0d\u540e\u518d\u8bd5")})},e.prototype.getAnonymousCode=function(){return jsb.reflection.callStaticMethod("org/cocos2dx/javascript/AppActivity","getAnonymousCode","()Ljava/lang/String;")},e.prototype.loginWithDouyin=function(){jsb.reflection.callStaticMethod("org/cocos2dx/javascript/AppActivity","loginWithDouyin","()V")},e.prototype.dyTokenSuccess=function(){a.default.ANDROID},e.prototype.loginError=function(){this._loginOptions.fail("\u767b\u5f55\u5931\u8d25")},e.prototype.createMoreGamesButton=function(){},e.prototype.getOpenDataContext=function(){return null},e.prototype.postMessage=function(t){console.log("\u63a8\u9001\u5f00\u653e\u6570\u636e",t)},e.prototype.startRecorder=function(){},e.prototype.stopRecorder=function(){},e.prototype.getRecorderState=function(){return this._isRecorder},e.prototype.getIsScreenRecordVideo=function(){return!1},e.prototype.shareRecorder=function(t){var e=this;this._recorderTimerEnable=!1,this.getIsScreenRecordVideo()?(this._shareOptions=t,jsb.reflection.callStaticMethod("org/cocos2dx/javascript/AppActivity","shareRecord","(Ljava/lang/String;)V",JSON.stringify([this.gameName]))):this.stopRecorder(function(){e.shareRecorder(t)})},e.prototype.shareRecorderSuccess=function(){this._shareOptions&&this._shareOptions.success&&this._shareOptions.success()},e.prototype.shareRecorderFail=function(){this._shareOptions&&this._shareOptions.fail&&this._shareOptions.fail({errMsg:"player cancel"})},e.prototype.showRewardVideo=function(t){if(this.getVideoState()){var e=(new Date).getTime();this.lastAdTime=e,this._videoOptions=t,jsb.reflection.callStaticMethod("org/cocos2dx/javascript/AppActivity","playVideo","()V")}},e.prototype.onVideoSuccess=function(){var t=this;setTimeout(function(){t._videoOptions.success&&t._videoOptions.success()},500)},e.prototype.onVideoFail=function(){this._videoOptions.fail&&this._videoOptions.fail()},e.prototype.getVideoState=function(){return jsb.reflection.callStaticMethod("org/cocos2dx/javascript/AppActivity","getVideoStatus","()I")},e.prototype.playScreen=function(){var t=(new Date).getTime();t-this.lastAdTime>3e4&&(this.lastAdTime=t,jsb.reflection.callStaticMethod("org/cocos2dx/javascript/AppActivity","playScreen","(I)V",1))},e.prototype.getLastAdTime=function(){return this.lastAdTime},e.prototype.getLanguage=function(){return jsb.reflection.callStaticMethod("org/cocos2dx/javascript/AppActivity","getLanguage","()I")},e.prototype.sendEvent=function(t){t&&t.key&&(t.value||(t.value={}),console.log("\u4e0a\u62a5\u4e8b\u4ef6:",t.key),jsb.reflection.callStaticMethod("org/cocos2dx/javascript/AppActivity","traceEvent","(Ljava/lang/String;Ljava/lang/String;)V",t.key,JSON.stringify(t.value)))},e.prototype.vibrateShort=function(){this.shock(1)},e.prototype.vibrateLong=function(){this.shock(2)},e.prototype.shock=function(t){try{jsb.reflection.callStaticMethod("org/cocos2dx/javascript/AppActivity","shock","(I)V",t)}catch(e){console.log("\u8c03\u7528\u624b\u673a\u9707\u52a8\u62a5\u9519:"+e.message)}},e.prototype.setClipboardData=function(t){try{jsb.reflection.callStaticMethod("org/cocos2dx/javascript/AppActivity","copy","(Ljava/lang/String;)V",t.data),t.success&&t.success()}catch(e){}},e.prototype.setLocalStorage=function(t,e){cc.sys.localStorage.setItem(this.gameName+t,e)},e.prototype.getLocalStorage=function(t){return cc.sys.localStorage.getItem(this.gameName+t)},e.prototype.openGame=function(){console.log("\u6253\u5f00\u6e38\u620f")},e.prototype.goBack=function(){},e.prototype.getShopDetails=function(){var t=jsb.reflection.callStaticMethod("org/cocos2dx/javascript/AppActivity","getShopDetails","()Ljava/lang/String;");return JSON.parse(t)},e.prototype.resumePay=function(){},e.prototype.pay=function(t){console.log("\u62c9\u53d6\u652f\u4ed8 key ",t.key),this._payOptions=t,jsb.reflection.callStaticMethod("org/cocos2dx/javascript/AppActivity","launchPay","(Ljava/lang/String;)V",t.key)},e.prototype.onPaymentSuccess=function(t){console.log("\u652f\u4ed8\u5b8c\u6210 key",t),this._payOptions&&this._payOptions.success&&this._payOptions.success(t)},e.prototype.showPreVideo=function(t){console.log("showPreVideo",t)},e.prototype.hidePreVideo=function(){console.log("hidePreVideo")},e.prototype.getShopEnable=function(){return this._shopEnable},e}(c.default);o.default=r,cc._RF.pop()},{"./BaseSdk":"BaseSdk","./PlatfromEnum":"PlatfromEnum"}],AudioManage:[function(t,e,o){"use strict";cc._RF.push(e,"cb90b+sb99CvLwgQOVCTG5f","AudioManage");var n=this&&this.__decorate||function(t,e,o,n){var i,c=arguments.length,a=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var r=t.length-1;r>=0;r--)(i=t[r])&&(a=(c<3?i(a):c>3?i(e,o,a):i(e,o))||a);return c>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.AudioManage=o.SoundList=void 0;var i,c=t("./Utils"),a=cc._decorator,r=a.ccclass;a.property,function(t){t.popo="popo",t.out="attack_chuizi",t.fail="fail",t.drop="AbsorberHit",t.click="click",t.swap="swap",t.bgm1="bgm1"}(i=o.SoundList||(o.SoundList={}));var s=function(){function t(){}return t.init=function(){var t=c.default.Instance.getLocalStorage(this.music_save_key),e=c.default.Instance.getLocalStorage(this.sfx_save_key);-1===t&&(this._musicOpen=!0),-1===e&&(this._sfxOpen=!0)},t.getAudioClip=function(t){var e=this;return new Promise(function(o){cc.resources.load("music/"+t,cc.AudioClip,function(n,i){n?(console.error("load music "+t+"  is err"),o(null)):(e.AudioMap.hasOwnProperty(t)||(e.AudioMap[t]=i),o(i))})})},t.setBgmVolume=function(t){this.bgmVolume=t,cc.audioEngine.setVolume(this.bgmAudioID,t)},t.setSfxVolume=function(t){this.sfxVolume=t,cc.audioEngine.setEffectsVolume(t)},t.playBGM=function(t,e,o){var n=this;void 0===e&&(e=.5),void 0===o&&(o=!0),this._musicOpen&&(this.bgmVolume<=0||(this.bgmAudioID>=0&&cc.audioEngine.stopMusic(),this.setBgmVolume(e),this.AudioMap.hasOwnProperty(t)?(this.bgmAudioID=cc.audioEngine.playMusic(this.AudioMap[t],o),cc.audioEngine.setMusicVolume(this.bgmVolume)):this.getAudioClip(t).then(function(t){n.bgmAudioID=cc.audioEngine.playMusic(t,o),cc.audioEngine.setMusicVolume(n.bgmVolume)})))},t.stopBGM=function(){this.bgmAudioID>=0&&cc.audioEngine.stop(this.bgmAudioID)},t.playSFX=function(t,e,o){var n=this;void 0===e&&(e=1),void 0===o&&(o=!1),this._sfxOpen&&(this.sfxVolume<=0||(this.setSfxVolume(e),this.AudioMap.hasOwnProperty(t)?(cc.audioEngine.playEffect(this.AudioMap[t],o),cc.audioEngine.setEffectsVolume(this.sfxVolume)):this.getAudioClip(t).then(function(t){cc.audioEngine.playEffect(t,o),cc.audioEngine.setEffectsVolume(n.sfxVolume)})))},t.pauseAll=function(){cc.audioEngine.pauseAll()},t.resumeAll=function(){cc.audioEngine.resumeAll()},t.stopAll=function(){cc.audioEngine.stopAll()},t.sFXSwitch=function(t){this._sfxOpen=t,c.default.Instance.setLocalStorage(this.sfx_save_key,t?1:0)},t.getSfxState=function(){return this._sfxOpen},t.mucSwitch=function(t){this._musicOpen=t,t?this.playBGM(i.bgm1):this.stopBGM(),c.default.Instance.setLocalStorage(this.music_save_key,t?1:0)},t.getMusicState=function(){return this._musicOpen},t.bgmVolume=1,t.sfxVolume=1,t.bgmAudioID=-1,t._musicOpen=!0,t._sfxOpen=!0,t.AudioMap={},t.music_save_key="_musicOpen",t.sfx_save_key="_sfxOpen",n([r],t)}();o.AudioManage=s,cc._RF.pop()},{"./Utils":"Utils"}],BaseSdk:[function(t,e,o){"use strict";cc._RF.push(e,"ef888KGeJdGQaU96TYy0vDZ","BaseSdk"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./SDKEvent"),i=function(){function t(){this._isRecorder=!1}return t.prototype.init=function(){},t.prototype.login=function(t){t.success&&t.success({isLogin:!0})},t.prototype.isOpenShare=function(){return!0},t.prototype.getAnonymousCode=function(){return""},t.prototype.createMoreGamesButton=function(){},t.prototype.setKeepScreenOn=function(){},t.prototype.setClipboardData=function(t){console.log("\u8c03\u7528\u526a\u5207\u677f",t.data)},t.prototype.startRecorder=function(){this._isRecorder=!0,console.log("\u5f00\u59cb\u5f55\u5c4f"),cc.systemEvent.emit(n.default.CHANGE_RECORDER_STATE)},t.prototype.stopRecorder=function(){this._isRecorder=!1,console.log("\u505c\u6b62\u5f55\u5c4f"),cc.systemEvent.emit(n.default.CHANGE_RECORDER_STATE)},t.prototype.getRecorderState=function(){return this._isRecorder},t.prototype.getIsScreenRecordVideo=function(){return!0},t.prototype.getRecorderTime=function(){return 0},t.prototype.showShareBtn=function(){},t.prototype.hideShareBtn=function(){},t.prototype.shareRecorder=function(t){t.success&&t.success(),console.log("\u5206\u4eab\u89c6\u9891\u6210\u529f")},t.prototype.showRewardVideo=function(t){t&&t.success&&t.success(),console.log("\u5c55\u793a\u5e7f\u544a\u6210\u529f")},t.prototype.playScreen=function(){console.log("\u64ad\u653e\u63d2\u5c4f\u5e7f\u544a")},t.prototype.getLastAdTime=function(){return 0},t.prototype.showBanner=function(){},t.prototype.hideBanner=function(){},t.prototype.getVideoState=function(){return!0},t.prototype.onVideoSuccess=function(){},t.prototype.vibrateShort=function(){},t.prototype.vibrateLong=function(){},t.prototype.sendEvent=function(t){console.log("\u6253\u70b9:",t)},t.prototype.postMessage=function(t){console.log("\u63a8\u9001\u6d88\u606f",t)},t.prototype.setLocalStorage=function(t,e){cc.sys.localStorage.setItem(t,e)},t.prototype.getLocalStorage=function(t){return console.log("\u83b7\u53d6\u672c\u5730\u6570\u636e"),cc.sys.localStorage.getItem(t)},t.prototype.sendHttpRequest=function(t,e,o,n){for(var i=Object.getOwnPropertyNames(e),c="",a=0;a<i.length;a++)console.log("\u53c2\u6570\u540d\u79f0\uff1a",i[a]),c+=i[a]+"="+e[i[a]]+"&";console.log("\u8bf7\u6c42\u53c2\u6570",c);var r=new XMLHttpRequest;r.onreadystatechange=function(){if(4==r.readyState)if(200==r.status){if(o){var t=JSON.parse(r.responseText);t.ok?o(t):n&&n(t.msg)}}else n&&n(r.status)},r.open("POST",t,!0),r.setRequestHeader("Content-Type","application/x-www-form-urlencoded;"),r.send(c)},t.prototype.showToast=function(t){console.log("showToast",t)},t.prototype.getOpenDataContext=function(){return null},t.prototype.loginWithDouyin=function(){},t.prototype.loginWithApple=function(){},t.prototype.dyTokenSuccess=function(){},t.prototype.appleLoginSuccess=function(){},t.prototype.loginError=function(){},t.prototype.hasAppleLogin=function(){return!0},t.prototype.share=function(){},t.prototype.contentSafe=function(t){t.content,t.platform},t}();o.default=i,cc._RF.pop()},{"./SDKEvent":"SDKEvent"}],EventManager:[function(t,e,o){"use strict";cc._RF.push(e,"8b89a+ZAYRAmqWWcCBn5ZYa","EventManager");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__spreadArrays||function(){for(var t=0,e=0,o=arguments.length;e<o;e++)t+=arguments[e].length;var n=Array(t),i=0;for(e=0;e<o;e++)for(var c=arguments[e],a=0,r=c.length;a<r;a++,i++)n[i]=c[a];return n};Object.defineProperty(o,"__esModule",{value:!0});var a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),Object.defineProperty(e,"Instance",{get:function(){return this._ins||(this._ins=new e),this._ins},enumerable:!1,configurable:!0}),e.prototype.emit=function(t){for(var e=[],o=1;o<arguments.length;o++)e[o-1]=arguments[o];this.fireEvent.apply(this,c([t],e))},e.prototype.on=function(t,e,o){void 0===o&&(o=null),this.addEventListener(t,e,o)},e.prototype.off=function(t,e,o){void 0===o&&(o=null),this.removeEventListener(t,e,o)},e.prototype.clearAll=function(){this.clearEventListeners()},e._ins=null,e}(t("./event_tool").EventTool);o.default=a,cc._RF.pop()},{"./event_tool":"event_tool"}],FruitCollision:[function(t,e,o){"use strict";cc._RF.push(e,"10417yRnXZNtIP/ksyoFcQk","FruitCollision");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var i,c=arguments.length,a=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var r=t.length-1;r>=0;r--)(i=t[r])&&(a=(c<3?i(a):c>3?i(e,o,a):i(e,o))||a);return c>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../common/AudioManage"),r=t("../common/StaticLayer"),s=t("../config/GameConfig"),l=cc._decorator,u=l.ccclass,p=l.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.animalRing=null,e.maskNode=null,e.animalHalo=null,e.fruitNumber=0,e.returnNumber=!1,e.getNumberTime=0,e.bianjieX=0,e.testEndDJS=0,e.endOne=0,e.touchOne=!1,e}var o;return i(e,t),o=e,e.prototype.onLoad=function(){this.maskNode.active=!1,this.animalHalo.active=!1,this.node.on(cc.Node.EventType.TOUCH_END,this.onBlockTouchEnd,this)},e.prototype.start=function(){this.dangerousNumber=r.default.GameStatic.picAtlas.getSpriteFrames().length-2;var t=cc.view.getVisibleSize();this.bianjieX=t.width/2-this.node.width/2;var e=this.node.getContentSize();this.animalRing.setContentSize(e),this.animalHalo.setContentSize(e),this.maskNode.setContentSize(e)},e.prototype.playHaloAnim=function(){cc.Tween.stopAllByTarget(this.animalHalo),this.animalHalo.opacity=0,this.animalHalo.active=!0,this.maskNode.active=!0,cc.tween(this.animalHalo).to(1,{opacity:255}).to(1,{opacity:0}).union().repeatForever().start()},e.prototype.stopHaloAnim=function(){cc.Tween.stopAllByTarget(this.animalHalo),this.animalHalo.opacity=0,this.animalHalo.active=!1,this.maskNode.active=!1},e.prototype.onBlockTouchEnd=function(){var t=this;this.node!==r.default.GameStatic.targetFruit&&r.default.GameStatic.isClearState&&(this.touchOne||(this.touchOne=!0,r.default.GameStatic.onBallTouchEnd(),a.AudioManage.playSFX(a.SoundList.out),cc.tween(this.node).to(.2,{scale:0},{easing:cc.easing.backIn}).call(function(){t.node.active=!1,t.touchOne=!1,t.node.destroy()}).start()))},e.prototype.update=function(t){var e=this;this.node.x<-this.bianjieX&&(this.node.x=-this.bianjieX),this.node.x>this.bianjieX&&(this.node.x=this.bianjieX),this.returnNumber&&(this.scheduleOnce(function(){e.getNumberTime=0},.25),this.returnNumber=!1),"FruitNode"==this.node.parent.name&&(this.testEndDJS+=t)},e.prototype.lateUpdate=function(){if(!r.default.GameStatic.isGameOver&&this.node.y+this.node.width/2>cc.find("Canvas/LineNode").children[0].y&&0==this.endOne&&this.testEndDJS>3){for(var t=0;t<cc.find("Canvas/FruitNode").children.length;t++)cc.find("Canvas/FruitNode").children[t].removeComponent(cc.PhysicsCircleCollider),cc.find("Canvas/FruitNode").children[t].removeComponent(cc.RigidBody);r.default.GameStatic.isGameOver=!0,this.node.color=cc.Color.RED,cc.tween(this.node).to(.3,{opacity:0}).to(.3,{opacity:255}).union().repeat(3).call(function(){r.default.GameStatic.end(),cc.find("Canvas/LineNode").children[0].active=!1}).start(),this.endOne++}},e.prototype.getNumber=function(){var t=this.getNumberTime;return this.getNumberTime++,this.returnNumber=!0,t},e.prototype.onBeginContact=function(t,e,n){var i=this;if("fruit"==n.node.group){if(e.node.y<n.node.y)return;e.node.parent=cc.find("Canvas/FruitNode"),null!=e.node.getComponent(cc.RigidBody)&&(e.node.getComponent(cc.RigidBody).angularVelocity=0);var c=this.fruitNumber,a=n.node.getComponent("FruitCollision").fruitNumber;c==a&&c<this.dangerousNumber&&a<this.dangerousNumber?0==e.node.getComponent("FruitCollision").getNumber()&&(n.node.getComponent(cc.PhysicsCircleCollider).radius=0,n.node.getComponent(cc.PhysicsCircleCollider).apply(),this.node.getComponent(cc.PhysicsCircleCollider).radius=0,this.node.getComponent(cc.PhysicsCircleCollider).apply(),cc.tween(e.node).to(.1,{position:n.node.position}).call(function(){r.default.GameUIStatic.updateScore(i.fruitNumber+1),r.default.GameStatic.createLevelUpFruit(i.fruitNumber+1,n.node.position),n.node.active=!1,e.node.active=!1,i.scheduleOnce(function(){cc.isValid(n.node)&&n.node.destroy(),cc.isValid(e.node)&&e.node.destroy()},.5)}).start()):c==a&&c==this.dangerousNumber&&a==this.dangerousNumber?0==e.node.getComponent("FruitCollision").getNumber()&&(n.node.getComponent(cc.PhysicsCircleCollider).radius=0,n.node.getComponent(cc.PhysicsCircleCollider).apply(),this.node.getComponent(cc.PhysicsCircleCollider).radius=0,this.node.getComponent(cc.PhysicsCircleCollider).apply(),cc.tween(e.node).to(.1,{position:n.node.position}).call(function(){r.default.GameUIStatic.updateScore(i.fruitNumber+1),r.default.GameStatic.createLevelUpFruit(i.fruitNumber+1,n.node.position),n.node.active=!1,e.node.active=!1,i.scheduleOnce(function(){cc.isValid(n.node)&&n.node.destroy(),cc.isValid(e.node)&&e.node.destroy()},.5)}).start()):c!=s.default.PowerBallTag&&a!=s.default.PowerBallTag||!(c<=this.dangerousNumber||a<=this.dangerousNumber)||0==e.node.getComponent("FruitCollision").getNumber()&&(n.node.getComponent(cc.PhysicsCircleCollider).radius=0,n.node.getComponent(cc.PhysicsCircleCollider).apply(),this.node.getComponent(cc.PhysicsCircleCollider).radius=0,this.node.getComponent(cc.PhysicsCircleCollider).apply(),cc.tween(e.node).to(.1,{position:n.node.position}).call(function(){var t=i.fruitNumber<s.default.PowerBallTag?i.fruitNumber:n.getComponent(o).fruitNumber;r.default.GameUIStatic.updateScore(t+1),r.default.GameStatic.createLevelUpFruit(t+1,n.node.position),n.node.active=!1,e.node.active=!1,i.scheduleOnce(function(){cc.isValid(n.node)&&n.node.destroy(),cc.isValid(e.node)&&e.node.destroy()},.5)}).start())}},c([p(cc.Node)],e.prototype,"animalRing",void 0),c([p(cc.Node)],e.prototype,"maskNode",void 0),c([p(cc.Node)],e.prototype,"animalHalo",void 0),o=c([u],e)}(cc.Component);o.default=d,cc._RF.pop()},{"../common/AudioManage":"AudioManage","../common/StaticLayer":"StaticLayer","../config/GameConfig":"GameConfig"}],GameConfig:[function(t,e,o){"use strict";cc._RF.push(e,"d9bc6TZXKZE04oGB6f9E/4K","GameConfig"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(){}return t.AnimalSizeData={1:{size:cc.size(52,52)},2:{size:cc.size(80,80)},3:{size:cc.size(108,108)},4:{size:cc.size(119,119)},5:{size:cc.size(153,153)},6:{size:cc.size(183,183)},7:{size:cc.size(193,193)},8:{size:cc.size(213,213)},9:{size:cc.size(258,258)},10:{size:cc.size(288,288)},11:{size:cc.size(308,308)},12:{size:cc.size(408,408)}},t.PowerBallTag=100,t.TimeCount=300,t}();o.default=n,cc._RF.pop()},{}],GameManager:[function(t,e,o){"use strict";cc._RF.push(e,"55bb8c9KfJB+rKN6Uf8Cn8w","GameManager");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var i,c=arguments.length,a=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var r=t.length-1;r>=0;r--)(i=t[r])&&(a=(c<3?i(a):c>3?i(e,o,a):i(e,o))||a);return c>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../common/AudioManage"),r=t("../common/SDK/TTSDK"),s=t("../common/StaticLayer"),l=t("../common/Utils"),u=t("../config/GameConfig"),p=t("./FruitCollision"),d=t("./SkillManager"),h=cc._decorator,f=h.ccclass,y=h.property,g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.gameBg=null,e.fruitNode=null,e.targetfruitNode=null,e.fruitPre=null,e.lineNode=null,e.picAtlas=null,e.powerBallFrame=null,e.overLayer=null,e.skillLayer=null,e.targetFruit=null,e.endOne=0,e.fruitHeigth=0,e.isClearState=!1,e.isGameOver=!1,e}return i(e,t),e.prototype.onLoad=function(){cc.director.getPhysicsManager().enabled=!0,s.default.Instance.setGameStatic(this),s.default.Instance.setSkillStatic(this.skillLayer),this.overLayer.active=!1,this.skillLayer.node.active=!1,this.isClearState=!1,this.isGameOver=!1},e.prototype.onEnable=function(){},e.prototype.start=function(){l.default.Instance.setBgFit(this.gameBg),this.playWarningLineAnim(),this.createOneFruit(9,cc.v2(0,500))},e.prototype.update=function(){this.lineNode.children[0].y-this.fruitHeigth<200&&this.lineNode.children[0].y-this.fruitHeigth>=0&&(this.lineNode.children[0].active=!0),this.lineNode.children[0].y-this.fruitHeigth>200&&(this.lineNode.children[0].active=!1)},e.prototype.onDestroy=function(){s.default.Instance.setGameStatic(null),s.default.Instance.setSkillStatic(null)},e.prototype.playWarningLineAnim=function(){cc.tween(this.lineNode.children[0]).to(.3,{opacity:255},{easing:cc.easing.backOut}).to(.3,{opacity:0},{easing:cc.easing.backOut}).union().repeatForever().start(),this.lineNode.children[0].active=!1},e.prototype.createOneFruit=function(t,e){var o=this,n=cc.instantiate(this.fruitPre);n.setParent(this.targetfruitNode);var i=t+1,c=this.picAtlas.getSpriteFrame(""+i);n.getComponent(cc.Sprite).spriteFrame=c;var a=u.default.AnimalSizeData[i].size;n.setContentSize(a),n.getComponent(p.default).fruitNumber=t,n.setPosition(e),n.setScale(0),n.getComponent(cc.RigidBody).type=cc.RigidBodyType.Static,n.getComponent(cc.PhysicsCircleCollider).radius=0,n.getComponent(cc.PhysicsCircleCollider).apply(),cc.tween(n).to(.3,{scale:1},{easing:"backOut"}).call(function(){o.targetFruit=n}).start()},e.prototype.createLevelUpFruit=function(t,e){a.AudioManage.playSFX(a.SoundList.swap),cc.sys.platform===cc.sys.BYTEDANCE_GAME&&r.default.Instance.vibrateShort();var o=cc.instantiate(this.fruitPre);o.parent=this.fruitNode;var n=t+1,i=this.picAtlas.getSpriteFrame(""+n);o.getComponent(cc.Sprite).spriteFrame=i;var c=u.default.AnimalSizeData[n].size;o.setContentSize(c),o.getComponent(p.default).fruitNumber=t,o.setPosition(e),o.scale=0,o.getComponent(cc.RigidBody).linearVelocity=cc.v2(0,-100),o.getComponent(cc.PhysicsCircleCollider).radius=o.height/2,o.getComponent(cc.PhysicsCircleCollider).apply(),cc.tween(o).to(.5,{scale:1},{easing:"backOut"}).call(function(){null!=o.getComponent(cc.PhysicsCircleCollider)&&(o.getComponent(cc.PhysicsCircleCollider).radius=o.height/2,o.getComponent(cc.RigidBody).type=cc.RigidBodyType.Dynamic,o.getComponent(cc.PhysicsCircleCollider).apply())}).start(),this.fruitHeigth=this.findHighestFruit()},e.prototype.usePropToChangeTargetFruit=function(){var t=this.targetFruit.getContentSize();cc.Tween.stopAllByTarget(this.targetFruit),this.targetFruit.setScale(0),this.targetFruit.getComponent(cc.Sprite).spriteFrame=this.powerBallFrame,this.targetFruit.setContentSize(t),this.targetFruit.getComponent(p.default).fruitNumber=u.default.PowerBallTag,cc.tween(this.targetFruit).to(.3,{scale:1},{easing:"backOut"}).start()},e.prototype.onBallTouchEnd=function(){this.isClearState=!1;for(var t=0;t<this.fruitNode.children.length;t++)this.fruitNode.children[t].getComponent(p.default).stopHaloAnim()},e.prototype.usePropToClearOneFruit=function(){this.isClearState=!0;for(var t=0;t<this.fruitNode.children.length;t++)this.fruitNode.children[t].getComponent(p.default).playHaloAnim()},e.prototype.end=function(){if(0==this.endOne){a.AudioManage.playSFX(a.SoundList.fail),s.default.GameUIStatic.timeStop(),this.overLayer.active=!0,this.targetfruitNode.active=!0;for(var t=0;t<this.targetfruitNode.children.length;t++)this.targetfruitNode.children[t].active=!1;this.endOne++}},e.prototype.findHighestFruit=function(){for(var t=this.fruitNode.children[0].y,e=1;e<this.fruitNode.children.length;e++){var o=this.fruitNode.children[e].y+this.fruitNode.children[e].width/2;t<o&&(t=o)}return t},c([y(cc.Node)],e.prototype,"gameBg",void 0),c([y(cc.Node)],e.prototype,"fruitNode",void 0),c([y(cc.Node)],e.prototype,"targetfruitNode",void 0),c([y(cc.Prefab)],e.prototype,"fruitPre",void 0),c([y(cc.Node)],e.prototype,"lineNode",void 0),c([y(cc.SpriteAtlas)],e.prototype,"picAtlas",void 0),c([y(cc.SpriteFrame)],e.prototype,"powerBallFrame",void 0),c([y(cc.Node)],e.prototype,"overLayer",void 0),c([y(d.default)],e.prototype,"skillLayer",void 0),c([f],e)}(cc.Component);o.default=g,cc._RF.pop()},{"../common/AudioManage":"AudioManage","../common/SDK/TTSDK":"TTSDK","../common/StaticLayer":"StaticLayer","../common/Utils":"Utils","../config/GameConfig":"GameConfig","./FruitCollision":"FruitCollision","./SkillManager":"SkillManager"}],GameUI:[function(t,e,o){"use strict";cc._RF.push(e,"d0a3bbkxtZOfK4jWac8ndI6","GameUI");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var i,c=arguments.length,a=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var r=t.length-1;r>=0;r--)(i=t[r])&&(a=(c<3?i(a):c>3?i(e,o,a):i(e,o))||a);return c>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../common/AudioManage"),r=t("../common/StaticLayer"),s=t("../common/Utils"),l=t("../config/GameConfig"),u=t("./FruitCollision"),p=cc._decorator,d=p.ccclass,h=p.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.scoreLabel=null,e.addScoreLabel=null,e.timeTxt=null,e.backBtnNode=null,e.propPar=null,e.bgMask=null,e.score=0,e.timeCount=0,e.isAdsing=!1,e.isShowAddTime=!1,e}return i(e,t),e.prototype.onLoad=function(){var t=this;r.default.GameUIStatic=this,this.addScoreLabel.node.active=!1,s.default.Instance.addCallbackToButton(this.backBtnNode,this.node,"GameUI","onBackTouch"),this.propPar.children.forEach(function(e){var o=e.name.slice(-1);s.default.Instance.addCallbackToButton(e,t.node,"GameUI","onUseProp",o)})},e.prototype.onEnable=function(){this.score=0,this.timeCount=l.default.TimeCount,this.isAdsing=!1,this.isShowAddTime=!1,this.updateTime(this.timeCount)},e.prototype.start=function(){this.updateScore(),this.schedule(this.timeStarts,1)},e.prototype.update=function(){},e.prototype.onDestroy=function(){r.default.GameUIStatic=null},e.prototype.timeStop=function(){this.unschedule(this.timeStarts)},e.prototype.timeStarts=function(){this.isAdsing||(this.timeCount-=1,this.updateTime(this.timeCount),!this.isShowAddTime&&this.timeCount<=5&&(this.isShowAddTime=!0,this.onUseProp(null,"3")),this.timeCount<=0&&r.default.GameStatic.end())},e.prototype.updateTime=function(t){this.timeTxt.string="Time: "+t;var e=t>200?20:220-t;this.bgMask.opacity=e},e.prototype.updateScore=function(t){void 0===t&&(t=0),0!==t&&(this.score+=t,this.playAddScoreAnim(t)),this.scoreLabel.string=this.score.toString()},e.prototype.playAddScoreAnim=function(t){this.addScoreLabel.string="+"+t,cc.Tween.stopAllByTarget(this.addScoreLabel.node),this.addScoreLabel.node.active=!0,this.addScoreLabel.node.opacity=0,this.addScoreLabel.node.setPosition(cc.Vec2.ZERO),cc.tween(this.addScoreLabel.node).to(.3,{y:20,opacity:255}).delay(1).to(0,{opacity:0}).start()},e.prototype.onBackTouch=function(){r.default.GameStatic.isGameOver||cc.director.loadScene("main")},e.prototype.onUseProp=function(t,e){var o=this;if(!r.default.GameStatic.isGameOver&&!r.default.GameStatic.isClearState){a.AudioManage.playSFX(a.SoundList.click),this.isAdsing=!0;var n=parseInt(e),i=null;switch(n){case 1:if(r.default.GameStatic.targetFruit.getComponent(u.default).fruitNumber===l.default.PowerBallTag)return;i={type:n,hintContent:"\u4f7f\u7528<\u4e07\u80fd\u7403>\u9053\u5177\uff0c\u5c06\u4e0b\u4e00\u4e2a\u5c0f\u7403\u53d8\u6210\u4e07\u80fd\u7403",success:function(){o.isAdsing=!1,r.default.GameStatic.usePropToChangeTargetFruit()},fail:function(){o.isAdsing=!1}};break;case 2:if(cc.find("Canvas/FruitNode").children.length<=0)return;i={type:n,hintContent:"\u4f7f\u7528<\u9524\u5b50>\u9053\u5177\uff0c\u6d88\u9664\u4e00\u4e2a\u6307\u5b9a\u7684\u52a8\u7269",success:function(){o.isAdsing=!1,r.default.GameStatic.usePropToClearOneFruit()},fail:function(){o.isAdsing=!1}};break;case 3:i={type:n,hintContent:"\u4f7f\u7528<\u65f6\u949f>\u9053\u5177\uff0c\u589e\u52a030s\u6e38\u620f\u65f6\u95f4",success:function(){o.timeCount+=30,o.isAdsing=!1},fail:function(){o.isAdsing=!1}}}r.default.SkillStatic.showSkillHint(i)}},c([h(cc.Label)],e.prototype,"scoreLabel",void 0),c([h(cc.Label)],e.prototype,"addScoreLabel",void 0),c([h(cc.Label)],e.prototype,"timeTxt",void 0),c([h(cc.Node)],e.prototype,"backBtnNode",void 0),c([h(cc.Node)],e.prototype,"propPar",void 0),c([h(cc.Node)],e.prototype,"bgMask",void 0),c([d],e)}(cc.Component);o.default=f,cc._RF.pop()},{"../common/AudioManage":"AudioManage","../common/StaticLayer":"StaticLayer","../common/Utils":"Utils","../config/GameConfig":"GameConfig","./FruitCollision":"FruitCollision"}],InputController:[function(t,e,o){"use strict";cc._RF.push(e,"54ec44VYz9C0qtS64/y8LLx","InputController");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var i,c=arguments.length,a=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var r=t.length-1;r>=0;r--)(i=t[r])&&(a=(c<3?i(a):c>3?i(e,o,a):i(e,o))||a);return c>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../common/AudioManage"),r=t("../common/StaticLayer"),s=cc._decorator,l=s.ccclass,u=(s.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.touchNum=0,e}return i(e,t),e.prototype.start=function(){this.openTouch()},e.prototype.openTouch=function(){this.node.on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.node.on(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove,this),this.node.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.onTouchEnd,this)},e.prototype.onTouchStart=function(t){if(!r.default.GameStatic.isGameOver&&!r.default.GameStatic.isClearState&&null!=r.default.GameStatic.targetFruit){this.touchNum=1;var e=this.node.convertToNodeSpaceAR(t.getLocation()).x,o=r.default.GameStatic.targetFruit.y;cc.tween(r.default.GameStatic.targetFruit).to(.1,{position:cc.v3(e,o,0)}).start()}},e.prototype.onTouchMove=function(t){r.default.GameStatic.isGameOver||r.default.GameStatic.isClearState||null!=r.default.GameStatic.targetFruit&&(this.touchNum=1,r.default.GameStatic.targetFruit.x=this.node.convertToNodeSpaceAR(t.getLocation()).x)},e.prototype.onTouchEnd=function(){r.default.GameStatic.isGameOver||r.default.GameStatic.isClearState||null!=r.default.GameStatic.targetFruit&&1==this.touchNum&&(this.touchNum=0,r.default.GameStatic.targetFruit.getComponent(cc.PhysicsCircleCollider).radius=r.default.GameStatic.targetFruit.height/2,r.default.GameStatic.targetFruit.getComponent(cc.PhysicsCircleCollider).apply(),r.default.GameStatic.targetFruit.getComponent(cc.RigidBody).type=cc.RigidBodyType.Dynamic,r.default.GameStatic.targetFruit.getComponent(cc.RigidBody).linearVelocity=cc.v2(0,-1e3),r.default.GameStatic.targetFruit.parent=cc.find("Canvas/FruitNode"),r.default.GameStatic.targetFruit=null,a.AudioManage.playSFX(a.SoundList.drop),this.scheduleOnce(function(){r.default.GameStatic.createOneFruit(Math.floor(5*Math.random()),cc.v2(0,500))},.5))},c([l],e)}(cc.Component));o.default=u,cc._RF.pop()},{"../common/AudioManage":"AudioManage","../common/StaticLayer":"StaticLayer"}],Launch:[function(t,e,o){"use strict";cc._RF.push(e,"c9b66+6FwJPlYT1yCs+j5oQ","Launch");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var i,c=arguments.length,a=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var r=t.length-1;r>=0;r--)(i=t[r])&&(a=(c<3?i(a):c>3?i(e,o,a):i(e,o))||a);return c>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../scripts/common/AudioManage"),r=t("../scripts/common/SDK/TTSDK"),s=t("../scripts/common/Utils"),l=cc._decorator,u=l.ccclass,p=l.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bgNode=null,e.iconNode=null,e.healthNode=null,e}return i(e,t),e.prototype.onLoad=function(){this.iconNode.opacity=0,a.AudioManage.init(),r.default.Instance.init()},e.prototype.start=function(){if(s.default.Instance.setBgFit(this.bgNode),cc.sys.platform===cc.sys.BYTEDANCE_GAME){var t=this;r.default.Instance.ttSubpackage("resources",function(e){e&&r.default.Instance.ttSubpackage("res",function(e){e&&t.scheduleOnce(function(){cc.director.loadScene("main")},2)})})}this.playLaunchAnim()},e.prototype.playLaunchAnim=function(){cc.tween(this.iconNode).to(2,{opacity:255}).delay(.5).call(function(){cc.sys.platform!==cc.sys.BYTEDANCE_GAME&&cc.director.loadScene("main")}).start()},c([p(cc.Node)],e.prototype,"bgNode",void 0),c([p(cc.Node)],e.prototype,"iconNode",void 0),c([p(cc.Node)],e.prototype,"healthNode",void 0),c([u],e)}(cc.Component);o.default=d,cc._RF.pop()},{"../scripts/common/AudioManage":"AudioManage","../scripts/common/SDK/TTSDK":"TTSDK","../scripts/common/Utils":"Utils"}],Main:[function(t,e,o){"use strict";cc._RF.push(e,"79cf1mJdENFrZqPBz0+wWmh","Main");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var i,c=arguments.length,a=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var r=t.length-1;r>=0;r--)(i=t[r])&&(a=(c<3?i(a):c>3?i(e,o,a):i(e,o))||a);return c>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../common/AudioManage"),r=t("../common/SDK/TTSDK"),s=t("../common/Utils"),l=t("./SidebarManager"),u=cc._decorator,p=u.ccclass,d=u.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.mainBg=null,e.logoNode=null,e.soundNode=null,e.startBtnNode=null,e.soundPicList=[],e.animalNode=null,e.animalPlist=null,e.btnSidebar=null,e.sidebarLayer=null,e.animalIndex=0,e}return i(e,t),e.prototype.onLoad=function(){this.sidebarLayer.node.active=!1,this.animalNode.x=-cc.winSize.width/2-this.animalNode.width/2,s.default.Instance.addCallbackToButton(this.soundNode,this.node,"Main","onSoundTouch"),s.default.Instance.addCallbackToButton(this.startBtnNode,this.node,"Main","onStartGame"),s.default.Instance.addCallbackToButton(this.btnSidebar,this.node,"Main","onSidebarTouch")},e.prototype.onEnable=function(){var t=this;this.soundState=a.AudioManage.getMusicState(),this.updateSoundShow(this.soundState),r.default.Instance.checkSidebar(function(e){t.btnSidebar.active=e})},e.prototype.start=function(){s.default.Instance.setBgFit(this.mainBg),a.AudioManage.playBGM(a.SoundList.bgm1),s.default.Instance.initBounceData(this.startBtnNode),s.default.Instance.play()},e.prototype.updateSoundShow=function(t){var e=t?0:1;this.soundNode.children[0].getComponent(cc.Sprite).spriteFrame=this.soundPicList[e]},e.prototype.onSoundTouch=function(){a.AudioManage.playSFX(a.SoundList.click),this.soundState=!this.soundState,this.updateSoundShow(this.soundState),a.AudioManage.mucSwitch(this.soundState)},e.prototype.onStartGame=function(){a.AudioManage.playSFX(a.SoundList.click),cc.director.loadScene("gameScene")},e.prototype.onSidebarTouch=function(){var t=this;a.AudioManage.playSFX(a.SoundList.click),this.sidebarLayer.showSidebarWindow({success:function(){t.btnSidebar.active=!1},fail:function(){}})},e.prototype.onDestroy=function(){},e.prototype.update=function(){if(this.animalNode.x+=3,this.animalNode.angle-=3,this.animalNode.x>cc.winSize.width/2+this.animalNode.width/2){this.animalNode.x=-cc.winSize.width/2-this.animalNode.width/2,this.animalNode.angle=0,this.animalIndex+=1,this.animalIndex>this.animalPlist.getSpriteFrames().length-1&&(this.animalIndex=0);var t=this.animalPlist.getSpriteFrames()[this.animalIndex];this.animalNode.getComponent(cc.Sprite).spriteFrame=t}},c([d(cc.Node)],e.prototype,"mainBg",void 0),c([d(cc.Node)],e.prototype,"logoNode",void 0),c([d(cc.Node)],e.prototype,"soundNode",void 0),c([d(cc.Node)],e.prototype,"startBtnNode",void 0),c([d([cc.SpriteFrame])],e.prototype,"soundPicList",void 0),c([d(cc.Node)],e.prototype,"animalNode",void 0),c([d(cc.SpriteAtlas)],e.prototype,"animalPlist",void 0),c([d(cc.Node)],e.prototype,"btnSidebar",void 0),c([d(l.default)],e.prototype,"sidebarLayer",void 0),c([p],e)}(cc.Component);o.default=h,cc._RF.pop()},{"../common/AudioManage":"AudioManage","../common/SDK/TTSDK":"TTSDK","../common/Utils":"Utils","./SidebarManager":"SidebarManager"}],OverManager:[function(t,e,o){"use strict";cc._RF.push(e,"19104++QKRM3KPDp8u5qFh7","OverManager");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var i,c=arguments.length,a=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var r=t.length-1;r>=0;r--)(i=t[r])&&(a=(c<3?i(a):c>3?i(e,o,a):i(e,o))||a);return c>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../common/AudioManage"),r=t("../common/PanelBase"),s=t("../common/SDK/TTSDK"),l=t("../common/StaticLayer"),u=t("../common/Utils"),p=cc._decorator,d=p.ccclass,h=p.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.topScoreTxt=null,e.scoreTxt=null,e.againBtnNode=null,e}return i(e,t),e.prototype.onLoad=function(){u.default.Instance.addCallbackToButton(this.againBtnNode,this.node,"OverManager","onAgainTouch")},e.prototype.onEnable=function(){this.windowShow(),a.AudioManage.playSFX(a.SoundList.fail),this.updateScore(),s.default.Instance.playScreen()},e.prototype.start=function(){},e.prototype.updateScore=function(){var t=u.default.Instance.getLocalStorage("Animal-Top"),e=l.default.GameUIStatic.score;this.scoreTxt.string="\u5f53\u524d\u5f97\u5206\n"+e,e>t?(u.default.Instance.setLocalStorage("Animal-Top",e),this.topScoreTxt.string="\u6700\u9ad8\u5f97\u5206\n"+e):this.topScoreTxt.string="\u6700\u9ad8\u5f97\u5206\n"+t},e.prototype.onAgainTouch=function(){cc.director.loadScene("gameScene")},c([h(cc.Label)],e.prototype,"topScoreTxt",void 0),c([h(cc.Label)],e.prototype,"scoreTxt",void 0),c([h(cc.Node)],e.prototype,"againBtnNode",void 0),c([d],e)}(r.default);o.default=f,cc._RF.pop()},{"../common/AudioManage":"AudioManage","../common/PanelBase":"PanelBase","../common/SDK/TTSDK":"TTSDK","../common/StaticLayer":"StaticLayer","../common/Utils":"Utils"}],PanelBase:[function(t,e,o){"use strict";cc._RF.push(e,"5c2c6drcIhESZVilkRpF4at","PanelBase");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var i,c=arguments.length,a=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var r=t.length-1;r>=0;r--)(i=t[r])&&(a=(c<3?i(a):c>3?i(e,o,a):i(e,o))||a);return c>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,r=a.ccclass,s=(a.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onEnable=function(){this.windowShow()},e.prototype.windowShow=function(){var t=this.node.getChildByName("mask");t&&(t.active=!0);var e=this.node.getChildByName("content");e?(cc.Tween.stopAllByTarget(e),e.setScale(0),cc.tween(e).parallel(cc.tween().to(.45,{opacity:255}),cc.tween().to(.45,{scale:1},{easing:"backOut"})).start()):console.error("windowShow cannot find content")},e.prototype.windowHide=function(){var t=this,e=this.node.getChildByName("mask");e&&(e.active=!1);var o=this.node.getChildByName("content");o?(cc.Tween.stopAllByTarget(o),cc.tween(o).parallel(cc.tween().to(.45,{opacity:150}),cc.tween().to(.45,{scale:0},{easing:"backIn"})).call(function(){t.node.active=!1}).start()):console.error("windowHide cannot find content")},e.prototype.onClose=function(){this.windowHide()},c([r],e)}(cc.Component));o.default=s,cc._RF.pop()},{}],PlatfromEnum:[function(t,e,o){"use strict";cc._RF.push(e,"da2d3cOVoNHBotyIjLFiV5P","PlatfromEnum"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc.Enum({WEB:0,TT:-1,WX:-1,ANDROID:-1,IOS:-1,QQ:-1});o.default=n,cc._RF.pop()},{}],SDKEvent:[function(t,e,o){"use strict";cc._RF.push(e,"d1890ZWWudIe7EcRdXuAXSp","SDKEvent"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc.Enum({CHANGE_RECORDER_STATE:"CHANGE_RECORDER_STATE",VIDEO_LOAD_STATUS:"VIDEO_LOAD_STATUS"});o.default=n,cc._RF.pop()},{}],SidebarManager:[function(t,e,o){"use strict";cc._RF.push(e,"503c0gxMtRDiq1VODzYPmc2","SidebarManager");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var i,c=arguments.length,a=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var r=t.length-1;r>=0;r--)(i=t[r])&&(a=(c<3?i(a):c>3?i(e,o,a):i(e,o))||a);return c>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../common/AudioManage"),r=t("../common/PanelBase"),s=t("../common/SDK/TTSDK"),l=t("../common/Utils"),u=cc._decorator,p=u.ccclass,d=u.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.btnClose=null,e.btnEnter=null,e}return i(e,t),e.prototype.onLoad=function(){l.default.Instance.addCallbackToButton(this.btnClose,this.node,"SidebarManager","onCloseTouch"),l.default.Instance.addCallbackToButton(this.btnEnter,this.node,"SidebarManager","onEnterTouch")},e.prototype.start=function(){},e.prototype.showSidebarWindow=function(t){this.successCallback=t.success,this.failCallback=t.fail,this.node.active=!0},e.prototype.onEnterTouch=function(){var t=this;a.AudioManage.mucSwitch(!1),s.default.Instance.showSidebar({success:function(){a.AudioManage.mucSwitch(!0),t.successCallback&&t.successCallback()},fail:function(){a.AudioManage.mucSwitch(!0),t.failCallback&&t.failCallback()}})},e.prototype.onCloseTouch=function(){a.AudioManage.playSFX(a.SoundList.click,1),this.onClose()},c([d(cc.Node)],e.prototype,"btnClose",void 0),c([d(cc.Node)],e.prototype,"btnEnter",void 0),c([p],e)}(r.default);o.default=h,cc._RF.pop()},{"../common/AudioManage":"AudioManage","../common/PanelBase":"PanelBase","../common/SDK/TTSDK":"TTSDK","../common/Utils":"Utils"}],SkillManager:[function(t,e,o){"use strict";cc._RF.push(e,"01ac0WKu4BN1I1m/oAJbTIW","SkillManager");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),c=this&&this.__decorate||function(t,e,o,n){var i,c=arguments.length,a=c<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var r=t.length-1;r>=0;r--)(i=t[r])&&(a=(c<3?i(a):c>3?i(e,o,a):i(e,o))||a);return c>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../common/AudioManage"),r=t("../common/PanelBase"),s=t("../common/SDK/TTSDK"),l=t("../common/StaticLayer"),u=t("../common/Utils"),p=cc._decorator,d=p.ccclass,h=p.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.hintTxt=null,e.closeBtn=null,e.yesBtn=null,e.noBtn=null,e}return i(e,t),e.prototype.onLoad=function(){u.default.Instance.addCallbackToButton(this.closeBtn,this.node,"SkillManager","onCloseTouch"),u.default.Instance.addCallbackToButton(this.yesBtn,this.node,"SkillManager","onYesTouch"),u.default.Instance.addCallbackToButton(this.noBtn,this.node,"SkillManager","onCloseTouch")},e.prototype.start=function(){},e.prototype.showSkillHint=function(t){this.skillType=t.type,this.hintTxt.string=t.hintContent,this.successCallback=t.success,this.failCallback=t.fail,this.node.active=!0},e.prototype.onYesTouch=function(){var t=this;a.AudioManage.playSFX(a.SoundList.click),s.default.Instance.showRewardVideo({success:function(e){t.successCallback&&t.successCallback(e),t.onClose()},fail:function(e){t.failCallback&&t.failCallback(e),t.onClose()}})},e.prototype.onCloseTouch=function(){this.failCallback&&this.failCallback(),this.onClose(),a.AudioManage.playSFX(a.SoundList.click)},e.prototype.onDestroy=function(){l.default.Instance.setSkillStatic(null)},c([h(cc.Label)],e.prototype,"hintTxt",void 0),c([h(cc.Node)],e.prototype,"closeBtn",void 0),c([h(cc.Node)],e.prototype,"yesBtn",void 0),c([h(cc.Node)],e.prototype,"noBtn",void 0),c([d],e)}(r.default);o.default=f,cc._RF.pop()},{"../common/AudioManage":"AudioManage","../common/PanelBase":"PanelBase","../common/SDK/TTSDK":"TTSDK","../common/StaticLayer":"StaticLayer","../common/Utils":"Utils"}],StaticLayer:[function(t,e,o){"use strict";cc._RF.push(e,"1e7efqWPodIn5cBblJWLWLr","StaticLayer"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(){}return Object.defineProperty(t,"Instance",{get:function(){return this._ins||(this._ins=new t),this._ins},enumerable:!1,configurable:!0}),t.prototype.setGameStatic=function(e){t.GameStatic=e},t.prototype.setGameUIStatic=function(e){t.GameUIStatic=e},t.prototype.setSkillStatic=function(e){t.SkillStatic=e},t._ins=null,t.GameStatic=null,t.GameUIStatic=null,t.SkillStatic=null,t}();o.default=n,cc._RF.pop()},{}],TTSDK:[function(t,e,o){"use strict";cc._RF.push(e,"9e7daQ6fqNN/ZKhujF6cEzT","TTSDK");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var c=t("./BaseSdk"),a=t("./SDKEvent"),r=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isLogin=!1,e._recorderShareFunc=null,e._musicPauseFunc=null,e._musicPauseThis=null,e._musicResumeFunc=null,e._musicResumeThis=null,e._clipboardData="",e._playScreenTime=0,e._screenSpaceTime=0,e._interstitiaId="",e._moreGameBtn=null,e._recorder=null,e._videoPath="",e._recorderStatus=0,e._recorderEndTime=0,e._recorderTime=0,e._bannerId="11f4j2icei1f225e7k",e._videoId="6gpcm2n3rio4wbb9vo",e._screenId="dnj876eh91d1g7lac8",e._shareUrl="",e._shareId="1dssoeb2lijgdmo4dm",e._shareTitle="\u5408\u6210\u4e00\u4e2a\u5c0f\u52a8\u7269\u5427",e._shareDesc="\u770b\u5230\u76f8\u540c\u7684\u5c0f\u52a8\u7269\u5c31\u53ef\u4ee5\u653e\u624b\u4e86",e._videoTopics=["\u5408\u6210\u6d88\u9664","\u5408\u6210\u6d88\u9664","\u5408\u6210\u5c0f\u6e38\u620f"],e._videoLoaded=!1,e._videoOptions=null,e._videoAd=null,e._interstitiaAd=null,e._bannerLoaded=!1,e.lastAdTime=0,e.banner=null,e.bannerCount=0,e.lastshockTime=0,e.screenShow=!1,e.shareValue=1,e.isSidebarShowed=!1,e}return i(e,t),Object.defineProperty(e,"Instance",{get:function(){return this._instance=this._instance||new e,this._instance},enumerable:!1,configurable:!0}),e.prototype.init=function(){var t=this;cc.sys.platform===cc.sys.BYTEDANCE_GAME&&(this._shakeState=!1,this.showShareMenu(!0),globalThis.tt.onShareAppMessage(this.shareAppMessageCallback.bind(this)),this.lastAdTime=(new Date).getTime(),globalThis.tt.onShow(function(e){console.log("********\u6e38\u620f\u56de\u5230\u524d\u53f0************"),console.log("\u542f\u52a8\u53c2\u6570\uff1a",e.query),console.log("\u6765\u6e90\u4fe1\u606f\uff1a",e.refererInfo),console.log("\u573a\u666f\u503c\uff1a",e.scene),console.log("\u542f\u52a8\u573a\u666f\u5b57\u6bb5\uff1a",e.launch_from,", ",e.location),"homepage"===e.launch_from&&"sidebar_card"===e.location&&(t.isSidebarShowed=!0)}),this.checkNewVersion(),globalThis.tt.setKeepScreenOn({keepScreenOn:!0}),this.loadBanner(!1))},e.prototype.checkNewVersion=function(){var t=globalThis.tt.getUpdateManager();t&&t.onCheckForUpdate(function(e){console.log("\u662f\u5426\u6709\u65b0\u7248\u672c\uff1a"+e.hasUpdate),e.hasUpdate&&(t.onUpdateReady(function(){globalThis.tt.showModal({title:"\u66f4\u65b0\u63d0\u793a",content:"\u65b0\u7248\u672c\u5df2\u7ecf\u51c6\u5907\u597d\uff0c\u5355\u51fb\u786e\u5b9a\u91cd\u542f\u5c0f\u7a0b\u5e8f",showCancel:!1,success:function(e){e.confirm&&t.applyUpdate()}})}),t.onUpdateFailed(function(){globalThis.tt.showModal({title:"\u63d0\u793a",content:"\u68c0\u67e5\u5230\u6709\u65b0\u7248\u672c\uff0c\u4f46\u4e0b\u8f7d\u5931\u8d25\uff0c\u8bf7\u7a0d\u540e\u5c1d\u8bd5",showCancel:!1})}))})},e.prototype.showShareMenu=function(t){t?globalThis.tt.showShareMenu({withShareTicket:!0,menus:["shareAppMessage","shareTimeline"]}):globalThis.tt.showShareMenu({withShareTicket:!1})},e.prototype.shareAppMessageCallback=function(){var t=this.getShareConfig();return{title:this._shareTitle,imageUrl:t.url,templateId:t.id,query:"",desc:t.desc,success:function(){console.log("\u5206\u4eab\u6210\u529f")},fail:function(){console.log("\u5206\u4eab\u5931\u8d25")}}},e.prototype.getShareConfig=function(){var t={url:null,id:"",desc:""};switch(this.shareValue){case 1:t.url=this._shareUrl,t.id=this._shareId;break;case 2:break;case 3:var e=globalThis.tt.createCanvas();t.url=e.toTempFilePathSync({destWidth:500,destHeight:400});break;default:t={url:null,id:"",desc:""}}return t.desc=this._shareDesc,t},e.prototype.loadBanner=function(t){void 0===t&&(t=!1);var e=this,o=globalThis.tt.getSystemInfoSync(),n=o.windowWidth,i=o.windowHeight;null!=e.banner&&(e.banner.hide(),e.banner.destroy&&e.banner.destroy()),this.banner=globalThis.tt.createBannerAd({adUnitId:e._bannerId,style:{width:200,height:100,left:(n-200)/2,top:i-112.5}}),this.banner.onLoad(function(){t&&e.banner.show()}),this.banner.onError(function(){globalThis.tt.createMoreGamesBanner&&(e.banner=globalThis.tt.createMoreGamesBanner({style:{left:0,top:i-100,width:150,horizontalAlign:"center"},appLaunchOptions:[]}),e.banner.onTap(function(){console.log("\u70b9\u51fb\u8df3\u8f6c\u6e38\u620f\u76d2\u5b50")}),e.banner.onResize(function(){}))}),this.banner.onResize(function(t){e.banner.style.top=i-t.height,e.banner.style.left=(n-t.width)/2})},e.prototype.showBanner=function(){try{this.banner?(this.bannerCount++,this.bannerCount>=10?(this.loadBanner(!0),this.bannerCount=0):this.banner.show()):console.log("showBanner:\u672a\u83b7\u53d6\u5230banner\u5bf9\u8c61")}catch(t){console.log(t)}},e.prototype.hideBanner=function(){try{this.banner?this.banner.hide():console.log("hideBanner:\u672a\u83b7\u53d6\u5230banner\u5bf9\u8c61")}catch(t){console.log(t)}},e.prototype.setKeepScreenOn=function(t){globalThis.tt.setKeepScreenOn(t)},e.prototype.getTTSetting=function(t){globalThis.tt.getSetting({withSubscriptions:!0,success:function(e){e.authSetting["scope.userInfo"]?t.success&&t.success(e):t.fail&&t.fail(e)},fail:function(e){t.fail&&t.fail(e)}})},e.prototype.openTTSetting=function(){globalThis.tt.openSetting({withSubscriptions:!0,success:function(){},fail:function(){}})},e.prototype.login=function(t){if(cc.sys.platform===cc.sys.BYTEDANCE_GAME){var e=this;globalThis.tt.login({force:t.force,success:function(o){console.log("login \u8c03\u7528\u6210\u529f "+o.code+" "+o.anonymousCode),o.code,o.anonymousCode,o.isLogin?globalThis.tt.getUserInfo({success:function(o){console.log("getUserInfo \u8c03\u7528\u6210\u529f",o),e.isLogin=!0,t.success&&t.success(o)},fail:function(t){console.log("getUserInfo \u8c03\u7528\u5931\u8d25",t),e.isLogin=!1,globalThis.tt.showModal({title:"\u6388\u6743\u63d0\u793a",content:"\u8bf7\u6388\u6743\u4f7f\u7528\u6635\u79f0\u548c\u5934\u50cf",showCancel:!0,success:function(t){t.confirm&&e.openTTSetting({})}})}}):e.isLogin=!1},fail:function(o){console.log("login\u8c03\u7528\u5931\u8d25",o),e.isLogin=!1,t.fail&&t.fail("\u767b\u5f55\u5931\u8d25,\u8bf7\u7a0d\u540e\u518d\u8bd5")}})}},e.prototype.createMoreGamesButton=function(t){this._moreGameBtn||(console.log("\u521b\u5efa\u66f4\u591a\u6e38\u620f"),this._moreGameBtn=globalThis.tt.createMoreGamesButton({type:"image",image:"images/moregame.png",style:{left:t.left,top:t.top,width:t.width,height:t.height,lineHeight:49,backgroundColor:"#00000000",textColor:"#ffffff",textAlign:"center",fontSize:16,borderRadius:4,borderWidth:1,borderColor:"#00000000"},appLaunchOptions:[],onNavigateToMiniGame:function(t){console.log("\u8df3\u8f6c\u5176\u4ed6\u5c0f\u6e38\u620f",t)}}),this._moreGameBtn.onTap(function(){console.log("\u70b9\u51fb\u66f4\u591a\u6e38\u620f")}))},e.prototype.getOpenDataContext=function(){return globalThis.tt.getOpenDataContext()},e.prototype.postMessage=function(t){console.log("\u63a8\u9001\u5f00\u653e\u6570\u636e",t),globalThis.tt.getOpenDataContext().postMessage(t)},e.prototype.startRecorder=function(){this._recorder&&!this._isRecorder&&(this._recorderTime=(new Date).getTime(),this._isRecorder=!0,this._recorder.start({duration:300}),cc.systemEvent.emit(a.default.CHANGE_RECORDER_STATE))},e.prototype.stopRecorder=function(t){this._recorder&&this._isRecorder&&(this._recorderEndTime=(new Date).getTime(),this._recorderShareFunc=t,this._recorder.stop(),this._isRecorder=!1,cc.systemEvent.emit(a.default.CHANGE_RECORDER_STATE))},e.prototype.getIsScreenRecordVideo=function(){return""!=this._videoPath&&this._recorderEndTime-this._recorderTime>8e3},e.prototype.getRecorderState=function(){return this._isRecorder},e.prototype.getRecorderTime=function(){return(new Date).getTime()-this._recorderTime},e.prototype.shareRecorder=function(t){var e=this;""!=this._videoPath?(globalThis.tt.shareAppMessage({channel:"video",title:e._shareTitle,desc:e._shareDesc,templateId:e._shareId,query:"",extra:{videoPath:e._videoPath,videoTopics:e._videoTopics,withVideoId:!0},success:function(o){console.log("\u5206\u4eab\u89c6\u9891\u6210\u529f"),t.success&&t.success(o.videoId),e._videoPath="",e.sendEvent({key:"shareVideoSuccess"})},fail:function(o){console.log("\u5206\u4eab\u89c6\u9891\u5931\u8d25",o),e.showToast("\u5206\u4eab\u5931\u8d25\uff0c\u8bf7\u91cd\u8bd5\uff01"),t.fail&&t.fail(o)},complete:function(){}}),e.sendEvent({key:"shareVideo"})):e.showToast("\u6b63\u5728\u51c6\u5907\u89c6\u9891,\u8bf7\u7a0d\u540e...")},e.prototype.showRewardVideo=function(t){var e=this;if(e._videoOptions=t,cc.sys.platform!==cc.sys.BYTEDANCE_GAME)return e._videoOptions&&e._videoOptions.success&&e._videoOptions.success(),void e.sendEvent({key:"playVideoSuccess"});e._videoAd?this._videoAd.show().then(function(){console.log("\u663e\u793a\u5e7f\u544a\u6210\u529f")}).catch(function(t){console.log("\u663e\u793a\u5e7f\u544a\u9519\u8bef",t),e._videoAd.load().then(function(){return e._videoAd.show()})}):(this._videoAd=globalThis.tt.createRewardedVideoAd({adUnitId:e._videoId}),this._videoAd.onLoad(function(){console.log("\u5e7f\u544a\u52a0\u8f7d\u5b8c\u6210")}),this._videoAd.onError(function(t){e._videoLoaded=!1,e.sendEvent({key:"videoError",value:{code:t.errCode}}),setTimeout(function(){e._videoAd.load().then(function(){e._videoLoaded=!0})},3e4),e.showToast("\u6682\u65e0\u5e7f\u544a\uff0c\u4f60\u53ef\u4ee5\u5206\u4eab\u5f55\u5c4f\u83b7\u53d6\u5956\u52b1"),console.log("\u89c6\u9891\u52a0\u8f7d\u5931\u8d25",t.errCode)}),this._videoAd.onClose(function(t){e._videoLoaded=!1,e.lastAdTime=(new Date).getTime(),t.isEnded?(e._videoOptions&&e._videoOptions.success&&e._videoOptions.success(),e.sendEvent({key:"playVideoSuccess"})):(e._videoOptions&&e._videoOptions.fail&&e._videoOptions.fail(),e.sendEvent({key:"playVideoFail"}))}),this._videoAd.load().then(function(){e._videoLoaded=!0,e._videoAd.show().then(function(){console.log("\u663e\u793a\u5e7f\u544a\u6210\u529f")}).catch(function(t){console.log("\u663e\u793a\u5e7f\u544a\u9519\u8bef",t),e._videoAd.load().then(function(){return e._videoAd.show()})})}))},e.prototype.setClipboardData=function(t){globalThis.tt.setClipboardData({data:t.data,success:function(e){t.success&&t.success(e),console.log("\u8c03\u7528\u526a\u5207\u677f\u6210\u529f",t.data)},fail:function(e){t.fail&&t.fail(e),console.log("\u8c03\u7528\u526a\u5207\u677f\u5931\u8d25",t.data)}})},e.prototype.getVideoState=function(){return this._videoLoaded},e.prototype.getLastAdTime=function(){return this.lastAdTime},e.prototype.playScreen=function(){if(cc.sys.platform===cc.sys.BYTEDANCE_GAME){var t=globalThis.tt.getSystemInfoSync();if("ios"!=t.platform&&"XiGua"!=t.appName){var e=this;if((new Date).getTime()-this.lastAdTime>6e4){if(e._interstitiaAd&&e.screenShow)try{e._interstitiaAd.destroy(),e._interstitiaAd=null}catch(o){console.log("\u9500\u6bc1\u63d2\u5c4f\u5e7f\u544a\u5931\u8d25",o)}e._interstitiaAd&&!e.screenShow?e._interstitiaAd.load():(console.log("\u63d2\u5c4f\u4e0d\u5b58\u5728\u6216\u5df2\u7ecf\u64ad\u653e\uff0c\u91cd\u65b0\u521b\u5efa"),e._interstitiaAd=globalThis.tt.createInterstitialAd({adUnitId:e._screenId}),e._interstitiaAd.onLoad(function(){console.log("\u63d2\u5c4f\u5e7f\u544a\u52a0\u8f7d\u6210\u529f"),e._interstitiaAd.show().then(function(){console.log("\u63d2\u5c4f\u5e7f\u544a\u5c55\u793a\u6210\u529f"),e.screenShow=!0,e.lastAdTime=(new Date).getTime()})}),e._interstitiaAd.onError(function(t){console.log("\u63d2\u5c4f\u5e7f\u544a\u52a0\u8f7d\u5931\u8d25",t),e.screenShow=!1}))}}}},e.prototype.sendEvent=function(t){t&&t.key&&cc.sys.platform===cc.sys.BYTEDANCE_GAME&&console.log("\u4e0a\u62a5\u4e8b\u4ef6:",t)},e.prototype.vibrateShort=function(){if(cc.sys.platform===cc.sys.BYTEDANCE_GAME&&!this._shakeState){var t=(new Date).getTime();t-this.lastshockTime>100&&(this.lastshockTime=t,globalThis.tt.vibrateShort({success:function(){},fail:function(){console.log("vibrateShort\u8c03\u7528\u5931\u8d25")}}))}},e.prototype.vibrateLong=function(){cc.sys.platform===cc.sys.BYTEDANCE_GAME&&(this._shakeState||globalThis.tt.vibrateLong({success:function(){},fail:function(){console.log("vibrateLong\u8c03\u7528\u5931\u8d25")}}))},e.prototype.getShakeState=function(){return this._shakeState},e.prototype.setShakeState=function(t){this._shakeState=t},e.prototype.showToast=function(t,e,o){globalThis.tt.showToast({title:t,icon:"none",duration:1500,success:function(){e&&e()},fail:function(){o&&o()}})},e.prototype.share=function(t){cc.sys.platform===cc.sys.BYTEDANCE_GAME&&globalThis.tt.shareAppMessage(t)},e.prototype.setLocalStorage=function(t,e){cc.sys.localStorage.setItem(t,e)},e.prototype.getLocalStorage=function(t){return cc.sys.localStorage.getItem(t)},e.prototype.sendHttpRequest=function(t,e,o,n){globalThis.tt.request({url:t,data:e,success:function(t){if(console.log("request\u8c03\u7528\u6210\u529f ",t),t.data.ok){if(o){var e=t.data;o(e)}}else n&&n(t.data.msg)},fail:function(t){console.log("request\u8c03\u7528\u5931\u8d25",t),n&&n("\u7f51\u7edc\u7e41\u5fd9,\u8bf7\u7a0d\u540e\u518d\u8bd5")}})},e.prototype.contentSafe=function(){},e.prototype.ttSubpackage=function(t,e){cc.sys.platform===cc.sys.BYTEDANCE_GAME&&globalThis.tt.loadSubpackage({name:t,success:function(t){e&&e(!0,t)},fail:function(t){e&&e(!1,t)}})},e.prototype.checkSidebar=function(t){var e=this;return new Promise(function(o){cc.sys.platform!==cc.sys.BYTEDANCE_GAME||e.isSidebarShowed?t&&t(!1):globalThis.tt.checkScene({scene:"sidebar",success:function(e){console.log("check scene success: ",e.isExist),o(e.isExist),t&&t(e.isExist)},fail:function(e){console.log("check scene fail:",e),o(!1),t&&t(!1)}})})},e.prototype.showSidebar=function(t){cc.sys.platform===cc.sys.BYTEDANCE_GAME&&globalThis.tt.navigateToScene({scene:"sidebar",success:function(){console.log("navigate to scene success"),t.success&&t.success()},fail:function(e){console.log("navigate to scene fail: ",e),t.fail&&t.fail()}})},e.prototype.showRank=function(){cc.sys.platform===cc.sys.BYTEDANCE_GAME&&(console.log("\u62c9\u53d6\u6392\u884c\u699c"),globalThis.tt.getImRankList({relationType:"default",dataType:1,rankType:"day",rankTitle:"\u6bcf\u65e5\u6392\u884c\u699c",pageNum:1,pageSize:20,zoneId:"default"}))},e.prototype.sendRankData=function(t){cc.sys.platform===cc.sys.BYTEDANCE_GAME&&(console.log("\u53d1\u9001\u81ea\u5df1\u7684\u6570\u636e"),globalThis.tt.setImRankData({dataType:1,value:t.value,priority:t.priority,extra:"extra",zoneId:"default",success:function(t){console.log("setImRankData success res: "+t)},fail:function(t){console.log("setImRankData fail res: "+t.errMsg)}}))},e._instance=null,e}(c.default);o.default=r,cc._RF.pop()},{"./BaseSdk":"BaseSdk","./SDKEvent":"SDKEvent"}],Utils:[function(t,e,o){"use strict";cc._RF.push(e,"5ba1aPvRKNETJjT/WgGbWWc","Utils"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(){this._localStorage_key="KEY-",this._cardAtlas=null}return Object.defineProperty(t,"Instance",{get:function(){return this._ins||(this._ins=new t),this._ins},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isIOS",{get:function(){return cc.sys.isNative&&cc.sys.os==cc.sys.OS_IOS},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isAndroid",{get:function(){return cc.sys.isNative&&cc.sys.os==cc.sys.OS_ANDROID},enumerable:!1,configurable:!0}),t.prototype.addCallbackToButton=function(t,e,o,n,i){void 0===i&&(i="");var c=cc.Button.Transition.SCALE,a=new cc.Component.EventHandler;a.target=e,a.component=o,a.handler=n,a.customEventData=i;var r=t.getComponent(cc.Button);r||(r=t.addComponent(cc.Button)),r.transition=c,r.duration=.1,r.zoomScale=.9,r.enableAutoGrayEffect=!0,r.interactable=!0,r.clickEvents.push(a)},t.prototype.setBgFit=function(t){var e=cc.view.getVisibleSize().height/cc.view.getDesignResolutionSize().height,o=cc.view.getVisibleSize().width/cc.view.getDesignResolutionSize().width,n=e>o?e:o;t.setScale(n)},t.prototype.getRandomInt=function(t,e){return Math.floor(Math.random()*(e-t+1)+t)},t.prototype.setLocalStorage=function(t,e){cc.sys.localStorage.setItem(this._localStorage_key+t,String(e))},t.prototype.setLocalStorageToJson=function(t,e){cc.sys.localStorage.setItem(this._localStorage_key+t,JSON.stringify(e))},t.prototype.getLocalStorage=function(t){var e=cc.sys.localStorage.getItem(this._localStorage_key+t);return e?Number(e):-1},t.prototype.getLocalStorageByJson=function(t){var e=cc.sys.localStorage.getItem(this._localStorage_key+t);return e?JSON.parse(e):null},t.prototype.removeLocalStorage=function(t){cc.sys.localStorage.removeItem(this._localStorage_key+t)},t.prototype.clearAllLocalStorage=function(){cc.sys.localStorage.clear()},t.prototype.checkRectIsCross=function(t,e){var o=t.getBoundingBoxToWorld(),n=e.getBoundingBoxToWorld();return o.intersects(n)},t.prototype.initBounceData=function(t){this.QNode=t,this.frequency=4,this.decay=2,this.totalTime=1,this.pressScale=.15,this.interval=2,this.originalScale=this.QNode.scale},t.prototype.play=function(t){var e=this;void 0===t&&(t=1e9);var o=null!=t&&t>0?t:1e9,n=.2*this.totalTime,i=.15*this.totalTime,c=.65*this.totalTime,a=this.pressScale/i;this.tween=cc.tween(this.QNode).repeat(o,cc.tween().to(n,{scaleX:this.originalScale+this.pressScale,scaleY:this.originalScale-this.pressScale},{easing:"sineOut"}).to(i,{scaleX:this.originalScale,scaleY:this.originalScale}).to(c,{scaleX:{value:this.originalScale,progress:function(t,o,n,i){return o-e.getDifference(a,i)}},scaleY:{value:this.originalScale,progress:function(t,o,n,i){return o+e.getDifference(a,i)}}}).delay(this.interval)).start()},t.prototype.stop=function(){this.tween&&this.tween.stop(),this.QNode.setScale(this.originalScale)},t.prototype.getDifference=function(t,e){var o=this.frequency*Math.PI*2;return t*(Math.sin(e*o)/Math.exp(this.decay*e)/o)},t._ins=null,t}();o.default=n,cc._RF.pop()},{}],event_mgr:[function(t,e,o){"use strict";cc._RF.push(e,"2c6a3p+uFRMbqNnZK4ff25Z","event_mgr");var n=this&&this.__spreadArrays||function(){for(var t=0,e=0,o=arguments.length;e<o;e++)t+=arguments[e].length;var n=Array(t),i=0;for(e=0;e<o;e++)for(var c=arguments[e],a=0,r=c.length;a<r;a++,i++)n[i]=c[a];return n};Object.defineProperty(o,"__esModule",{value:!0}),o.Event_Name=o.event_mgr=void 0;var i=function(){function t(){this.handlers=[],this.targets=[],this.isInvoking=!1,this.containCanceled=!1}return t.prototype.add=function(t,e){this.handlers.push(t),this.targets.push(e)},t.prototype.remove=function(t){this.handlers.splice(t,1),this.targets.splice(t,1)},t.prototype.removeByTarget=function(t){for(var e=this.targets,o=this.handlers,n=e.length-1;n>=0;n--)e[n]==t&&(e.splice(n,1),o.splice(n,1))},t.prototype.removeByHandler=function(t){for(var e=this.handlers,o=this.targets,n=e.length-1;n>=0;n--)e[n]==t&&(e.splice(n,1),o.splice(n,1))},t.prototype.removeByHandlerTarget=function(t,e){for(var o=this.handlers,n=this.targets,i=o.length-1;i>=0;i--)o[i]==t&&n[i]==e&&(o.splice(i,1),n.splice(i,1))},t.prototype.removeAll=function(){this.handlers.length=0,this.targets.length=0},t.prototype.cancel=function(t){this.handlers[t]=null,this.targets[t]=null,this.containCanceled=!0},t.prototype.cancelByTarget=function(t){for(var e=this.targets,o=this.handlers,n=e.length-1;n>=0;n--)e[n]==t&&(e[n]=null,o[n]=null);this.containCanceled=!0},t.prototype.cancelByHandler=function(t){for(var e=this.handlers,o=this.targets,n=e.length-1;n>=0;n--)e[n]==t&&(e[n]=null,o[n]=null);this.containCanceled=!0},t.prototype.cancelByHandlerTarget=function(t,e){for(var o=this.handlers,n=this.targets,i=o.length-1;i>=0;i--)o[i]==t&&n[i]==e&&(o[i]=null,n[i]=null);this.containCanceled=!0},t.prototype.cancelAll=function(){for(var t=this.handlers,e=this.targets,o=t.length-1;o>=0;o--)t[o]=null,e[o]=null;this.containCanceled=!0},t.prototype.has=function(t,e){for(var o=this.handlers,n=this.targets,i=o.length-1;i>=0;i--)if(o[i]==t&&n[i]==e)return!0;return!1},t.prototype.purgeCanceled=function(){this.containCanceled&&(this.removeByHandler(null),this.containCanceled=!1)},t.prototype.isEmpty=function(){return 0==this.handlers.length},t}(),c=function(){function t(){this.eventMap=new Map}return t.get_inst=function(){return this.inst||(this.inst=new t),this.inst},t.prototype.fire=function(t){for(var e=[],o=1;o<arguments.length;o++)e[o-1]=arguments[o];var i=this.eventMap.get(t);if(i&&!i.isEmpty()){i.isInvoking=!0;for(var c=i.handlers,a=i.targets,r=0,s=c.length;r<s;r++){var l=c[r],u=a[r];if(l)if(u&&u.node){var p=u.node;cc.isValid(p)?l.call.apply(l,n([u],e)):i.cancelByTarget(u)}else l.call.apply(l,n([u],e))}i.isInvoking=!1,i.purgeCanceled()}},t.prototype.has=function(t,e,o){void 0===o&&(o=null);var n=this.eventMap.get(t);if(!n)return!1;if(e)return n.has(e,o);if(n.isInvoking){for(var i=n.handlers,c=0,a=i.length;c<a;c++)if(i[c])return!0;return!1}return!n.isEmpty()},t.prototype.add=function(t,e,o){void 0===o&&(o=null);var n=this.eventMap.get(t);n||(n=new i,this.eventMap.set(t,n)),n.add(e,o)},t.prototype.once=function(t,e,o){var i,c=this;void 0===o&&(o=null),i=function(){for(var a=[],r=0;r<arguments.length;r++)a[r]=arguments[r];c.remove(t,i,o),e.call.apply(e,n([o],a))},this.add(t,i,o)},t.prototype.remove=function(t,e,o){void 0===o&&(o=null);var n=this.eventMap.get(t);n&&!n.isEmpty()&&(o?n.isInvoking?n.cancelByHandlerTarget(e,o):n.removeByHandlerTarget(e,o):n.isInvoking?n.cancelByHandler(e):n.removeByHandler(e))},t.prototype.removeByTarget=function(t){this.eventMap.forEach(function(e){e.isEmpty()||(e.isInvoking?e.cancelByTarget(t):e.removeByTarget(t))})},t.prototype.removeByEvent=function(t){var e=this.eventMap.get(t);e&&!e.isEmpty()&&(e.isInvoking?e.cancelAll():e.removeAll())},t}();o.event_mgr=c,function(t){t.LAYER_CHANGED="LAYER_CHANGED",t.SCENE_CHANGED="SCENE_CHANGED",t.UI_SHOW="UI_SHOW",t.UI_HIDE="UI_HIDE",t.LANGUAGE_CHANGED="LANGUAGE_CHANGED",t.LANGUAGE_USED="LANGUAGE_USED",t.REMOTE_ASSETS_UPDATED="REMOTE_ASSETS_UPDATED",t.CONFIG_UPDATED="CONFIG_UPDATED",t.COMPUTATION="COMPUTATION",t.ADD_CARD_TO_PUBLIC="ADD_CARD_TO_PUBLIC",t.RECYCLE_CARD="RECYCLE_CARD",t.CHANGE_JETTON="CHANGE_JETTON",t.CHANGE_PROP_NEXT="CHANGE_PROP_NEXT",t.CHANGE_PROP_LOOK="CHANGE_PROP_LOOK",t.GET_GIFT_AWARD="GET_GIFT_AWARD",t.SIGN_IN="SIGN_IN"}(o.Event_Name||(o.Event_Name={})),cc._RF.pop()},{}],event_tool:[function(t,e,o){"use strict";cc._RF.push(e,"58194/aypJC2agM3repWtzA","event_tool");var n=this&&this.__spreadArrays||function(){for(var t=0,e=0,o=arguments.length;e<o;e++)t+=arguments[e].length;var n=Array(t),i=0;for(e=0;e<o;e++)for(var c=arguments[e],a=0,r=c.length;a<r;a++,i++)n[i]=c[a];return n};Object.defineProperty(o,"__esModule",{value:!0}),o.EventTool=void 0;var i=t("./event_mgr"),c=function(){function t(){}return t.prototype.addEventListener=function(t,e,o){void 0===o&&(o=null),i.event_mgr.get_inst().add(t,e,o),this._eventListeners||(this._eventListeners=[]),this._eventListeners.push({event:t,handler:e})},t.prototype.removeEventListener=function(t,e,o){void 0===o&&(o=null),i.event_mgr.get_inst().remove(t,e,o)},t.prototype.fireEvent=function(t){for(var e,o=[],c=1;c<arguments.length;c++)o[c-1]=arguments[c];(e=i.event_mgr.get_inst()).fire.apply(e,n([t],o))},t.prototype.clearEventListeners=function(){var t=this,e=this._eventListeners;if(e&&e.length){var o=i.event_mgr.get_inst();e.forEach(function(e){o.remove(e.event,e.handler,t)})}this._eventListeners=null,cc.game.targetOff(this)},t}();o.EventTool=c,cc._RF.pop()},{"./event_mgr":"event_mgr"}]},{},["Launch","AudioManage","PanelBase","AndroidSdk","BaseSdk","PlatfromEnum","SDKEvent","TTSDK","StaticLayer","Utils","EventManager","event_mgr","event_tool","GameConfig","FruitCollision","GameManager","GameUI","InputController","OverManager","SkillManager","Main","SidebarManager"]);